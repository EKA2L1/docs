<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EKA2L1: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EKA2L1
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   <div id="projectbrief">Symbian emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_src_emu_scripting__r_e_a_d_m_e.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li>EKA2L1 can be scipted in Python. There are two things you need to know<ul>
<li>symemu: is a embed module that exists within each EKA2L1 instance. It lets you access to core feature</li>
<li><a class="el" href="namespacesymemu2.html">symemu2</a>: is a set of folder contains utility that provides from EKA2L1's common and other libraries, intended for miscs use</li>
</ul>
</li>
</ul>
<h2>Symemu</h2>
<h3>Fundamental</h3>
<ul>
<li>When a script is imported, scriptEntry function are immidiately invoked (if it's available), to setup the script.</li>
<li>You can script a function to be called at specific emulation event. The event may be panic, or an interrupt. Either way, there is different way to do it.</li>
<li>The most easy way is to assign each function with a @EmulationInvokeEvent decorator. There are three types of invoke hook:<ul>
<li><b>emulatorSystemCallInvoke</b></li>
<li><b>emulatorPanicInvoke</b></li>
<li><b>emulatorRescheduleInvoke</b></li>
<li><b>emulatorBreakpointInvoke</b></li>
<li><b>emulatorEpocFunctionInvoke</b></li>
</ul>
</li>
<li>See examples (<em>hello</em> files), for more information.</li>
<li>Scripts should be in the scripts folder. The <em>scripts</em> folder must be in the same directory as executable.</li>
</ul>
<h3>Logging</h3>
<ul>
<li>Logging has the similar syntax like in Python. You can preformat it first or let EKA2L1 do it for you</li>
<li>Use logging through function <b>emulog</b>. For e.g . <b>emulog('Hi, Hello EKA2L1 {}!', 5)</b></li>
</ul>
<h3>Process</h3>
<ul>
<li>Access to process is freely. You can read or write to an address space, if you can confirm it's committed.</li>
<li>You can get a list of process running from symemu.getProcessesList. Iterate through each process, you can get its name, its path, etc</li>
</ul>
<h3>Limitation</h3>
<ul>
<li>A system call hook may only be catched with only one OS version or all of them, because system call number are different in various implementation of Symbian. You should make multiple hook for each OS version or not if you can confirm the number is not going to be changed.</li>
</ul>
<h2>Symemu2</h2>
<ul>
<li>Unlike Symemu, Symemu2 is compiled to a pyd and not related at all to Symemu. It's a standalone, and provides useful utilities to deal with Symbian stuff. For example, you can use to extract a Symbian game information</li>
<li>Some modules are written by hand that will help with scripting</li>
</ul>
<h2>FAQ</h2>
<ul>
<li>Q: When does a script getting initialized?</li>
<li>A: After the emulator done intialization, meaning at the start of EKA2L1, <em>scriptEntry</em> will be called.</li>
<li>Q: Will hook script run asynchronously or synchronously?</li>
<li>A: Synchronously. The slowdown is possible if there are many scripts hooked to the same thing or if script is doing something big.</li>
<li>Q: Can i make script function running at other time on emulator rather than reschedule, svc, etc ?</li>
<li>A: More hook will be added in the future. Other than, no. </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
